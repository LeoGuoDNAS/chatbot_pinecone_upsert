<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = ".";
    gCommonRootRelPath = ".";
    gTopicId = "2.18.29.0_4";
  
//]]></script>

  <script type="text/javascript" src="./template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="./template/scripts/common.min.js"></script>
  <script type="text/javascript" src="./template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="./template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="./whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="./template/styles/topic.min.css"/>
  <link rel="stylesheet" type="text/css" href="./template/single_page/topicheader.css"/>
  <meta name="topic-status" content="Draft"/>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="MS-HKWD" content="escalation"/>
<meta name="MS-HKWD" content="purge"/>
<meta name="MS-HKWD" content="event"/>
<meta name="MS-HKWD" content="registry"/>
<meta name="MS-HKWD" content="sys-start-sprgeschdldevnt"/>
<meta name="MS-HKWD" content="scheduled event"/>
<meta name="topic-status" content="Sent for Review"/>
<meta name="generator" content="Adobe RoboHelp 2020"/>
<title>Registry Start Purge Scheduled Events (sys-start-sprgeschdldevnt)</title>
<link rel="StyleSheet" href="assets/css/sampro.css" type="text/css"/>

<meta name="rh-index-keywords" content="escalation,purge,event,registry,sys-start-sprgeschdldevnt,scheduled event"/><meta name="brsprev" value="Registry_Entry_for_Scheduled_Events.htm"/></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Registry Start Purge Scheduled Events (sys-start-sprgeschdldevnt)">
        <span>Registry Start Purge Scheduled Events (sys-start-sprgeschdldevnt)</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



<h1>Registry Start Purge Scheduled Events (sys-start-sprgeschdldevnt)</h1>
<h2>Purpose:</h2>
<p>In version 6.1, this entry enabled you to implement the optional purge of <font style="text-decoration: underline;">all</font> events (not just triggered and canceled) attached to closed work orders when the Purge Scheduled Events function is run. By default, only events over sixty days old will be purged. However, this registry entry also enables you to change the default number of days.</p>
<p>In versions 6.2 and up, the Purge function was altered so that it operates as follows:</p>
<p>1. Determine the Purge Thru date by applying the DaysToSave setting (if this registry setting does not include DaysToSave=#, 60 days will be used) to the current system date.</p>
<p>2. Purge ALL cancelled and executed events THAT ARE NOT WORK ORDER RELATED.</p>
<p>3. For Work Order Related Events: only purge those Scheduled Events belonging to Work Orders whose WO Escalation Status is set to Cancelled or Billed AND whose Date Closed makes it eligible for the purge.</p>
<p>4. When the purge is run, the Escalation Profile Rn will be dropped from Work Orders whose Events were purged. This is done to prevent the creation of undesirable new escalation events if someone edits a &#39;closed&#39; work order.</p>
<p class="Body_Text_Indent" style="border-top: 0.50pt solid #000000; border-bottom: 0.50pt solid #000000; border-left: 0.50pt solid #000000; border-right: 0.50pt solid #000000;"><font style="font-weight: bold;" color="#FF0000">Testing Your Registry Entries</font><br/>
<font style="font-weight: bold; font-style: italic;">The system does not verify the validity of registry entries.</font> Be sure to <font style="font-weight: bold;">test</font> your registry entries after completing them to verify that they are functioning correctly.</p>
<h2>Important Fields</h2>
<p><font style="font-weight: bold;">Id:</font></p>
<p>sys-start-sprgeschdldevnt</p>
<h3>Specify Number of Days Old to Purge</h3>
<p class="Tip_Note_Heading" style="margin-top: 4.00pt;">Version 7.1 Additional Contents: <font style="font-weight: normal;">DaysToSave=#</font></p>
<p class="Tip_Note_Heading" style="margin-top: 4.00pt;">Version 7.2 Setting Key: <font style="font-weight: normal;">DaysToSave</font> Setting Value: <font style="font-weight: normal;">#</font></p>
<p class="Tip_Note_Heading" style="margin-left: 36.00pt; margin-top: 4.00pt;"><font style="font-weight: normal;">Where # is replaced by the number of days old an event must be to be purged. If</font> <font style="font-weight: normal;">you do not include this option,</font> <font style="font-weight: normal;">only events older than 60 days will be purged.</font></p>
<h3>Purge All Events for Closed Work Orders</h3>
<p class="Tip_Note_Heading" style="margin-top: 4.00pt;">Version 7.1 Additional Contents:<font style="font-weight: normal;">IncludeClosedWorkOrders=true (deprecated for V6.2 and up)</font></p>
<p class="Tip_Note_Heading" style="margin-top: 4.00pt;">Version 7.2 and Up Setting Key: <font style="font-weight: normal;">IncludeClosedWorkOrders</font> <font style="font-weight: normal;">Setting Value:</font> <font style="font-weight: normal;">true</font> <font style="font-weight: normal;">(default is false)</font></p>
<p class="Tip_Note_Heading" style="margin-top: 4.00pt;">This setting is deprecated. <font style="font-weight: normal;">If this option is included, the purge will affect</font> <font style="font-weight: normal; text-decoration: underline;">all</font> <font style="font-weight: normal;">scheduled events older than the number of days to save – rather than just triggered and cancelled events.</font></p>
<p>Examples:</p>
<p>DaysToSave=30</p>
<p>IncludeClosedWorkOrders=true</p>
<p>When the Purge Scheduled Event function is run, all events older than 30 days will be purged from closed work orders.</p>
<p>DaysToSave=45</p>
<p>IncludeClosedWorkOrders=false</p>
<p>When the Purge Scheduled Event function is run, triggered and canceled events older than 45 days will be purged from work orders.</p>
<h3>Restore original behavior (not recommended)</h3>
<p> RetainAllEventsForOpenWOs=false</p>
<p> This registry entry is <font style="font-weight: bold;">NOT</font> recommended. If implemented, the following behavior will be in effect:</p>
<p>1. Determine the Purge Thru date by applying the DaysToSave setting to the current system date.<br/>
2. Purge ALL cancelled and executed events regardless of work order status. <br/>
3. If IncludeClosedWorkOrders is True, eliminate all remaining events for closed work orders.  An example would be a contingent Alarm that never went &#39;active&#39; and has an Event Status of OnHold.<br/>
4. Clear the Escalation Profile Rn for qualifying &#39;closed&#39; work orders.  This is done to prevent the creation of additional escalation events in the event someone edits a &#39;closed&#39; work order</p>

</body></html>