<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = ".";
    gCommonRootRelPath = ".";
    gTopicId = "3.1.0_1";
  
//]]></script>

  <script type="text/javascript" src="./template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="./template/scripts/common.min.js"></script>
  <script type="text/javascript" src="./template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="./template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="./whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="./template/styles/topic.min.css"/>
  <link rel="stylesheet" type="text/css" href="./template/single_page/topicheader.css"/>
  <meta name="topic-status" content="Draft"/>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="generator" content="Adobe RoboHelp 2020"/>
<title>Upgrade to 9.1 from 8.2 or Earlier</title>
<link rel="StyleSheet" href="assets/css/sampro.css" type="text/css"/>
<meta name="rh-index-keywords" content="Upgrade Notes,upgrade"/></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Upgrade to 9.1 from 8.2 or Earlier">
        <span>Upgrade to 9.1 from 8.2 or Earlier</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



<h1>Upgrade to 9.1 from 8.2 or Earlier</h1>
<p>In addition to the procedures listed in this document for version 8.2 
 and earlier, procedures in the 9.1 Upgrade Notes must also be followed. 
 </p>
<h2>Upgrading from 8.2 or Earlier</h2>
<p style="margin-left: 48px;"><span style="font-weight: bold;">IMPORTANT:</span> 
 Keep scrolling down this topic to find additional tasks required for versions 
 8.0, 7.1 and 7.0.</p>
<h3>Reports</h3>
<p>Many reports have been updated and created in recent years. We recommend 
 importing all reports from the curated AllReport91UpgradeKM.zip file. 
 The Critical Reports Updates mentioned in the 9.1 Upgrade Notes list only 
 a few of these.</p>
<h5>Markup Tables - Aggregate Revenue Calculations</h5>
<p style="margin-left: 8px;">Material revenue calculations were refined 
 to take the previous level into account in version 9.0. This methodology 
 is the default.  A registry is required to use the old methodology.</p>
<p style="margin-left: 48px;"><span style="font-weight: bold;">IMPORTANT: 
 Contractual Rates:</span> While the new default methodology provides more 
 refined revenue calculations, it may cause issues if existing Client-specific 
 material markup rates are defined by contract. In this case, maintaining 
 the previous methodology (via registry) may be advisable.</p>
<h3>Quotemaster Systems</h3>
<p style="margin-left: 8px;">Problems with missing/duplicate scope options 
 in pre-9.0 databases require intervention <span style="font-weight: bold;">before</span> 
 the data can convert properly.  To ensure a successful upgrade:</p>
<p style="margin-left: 8px;">1. Backup the database.<br/>
2. Install Report Quote Scope Errors (RQTESCPEERRORS.rpt) dated 2015-09-10 
 or later.<br/>
3. Run the report wide open. If ANY issues are found, they MUST be 
 corrected before the upgrade. <br/>
4. Correct any errors noted; v8.2.545.075+ includes functionality to correct 
 most errors; see case 6864 in the 8.2 Support Notes for details. Rerun 
 the report to verify it runs clear; some errors may need to be addressed 
 via SQL.<br/>
5. Have ALL users log off; rerun report one last time. If COMPLETELY clear, 
 log off, install 9.1 and start conversion.</p>
<h3>Setting up for Quote Manager and Quote Scope (Upgrading from 8.2 or 
 Earlier)</h3>
<p>If you will be using the new Quote Manager / Quote Scope viewers and/or 
 CRMAnywhere, some of the entries in your existing Quote (sys-viewer-vqte) 
 registry must be copied to sys-viewer-vqtemngr registry for the Quote 
 Manager, and others to the new sys-viewer-vqtescpe registry for the Quote 
 Scope Viewer.</p>
<table class="AlternateBlueWithHeader" style="border-spacing:0px;width:675;left: 0px; top: 1976px; height: 542px;">
	<colgroup><col width="214"/>
	<col width="160"/>
	<col width="212"/>
	</colgroup><tbody><tr class="t1st" style="">
		<td style="border-spacing:0px;vertical-align: Top;"><p style="font-weight: bold; margin-left: 0px; 
											 margin-right: -82px;">Quote 
		 Manager <span style="font-weight: normal;">/ Approval Wizard</span></p>
		<p style="font-weight: bold; margin-left: 0px; margin-right: -82px;"><span style="font-weight: bold;">sys-viewer-vqtemngr</span></p></td>
		<td style="border-spacing:0px;vertical-align: Top;"><p style="margin-left: 0px; font-weight: bold; 
											 margin-right: -53px;">Quote 
		 Scope<br/>
		sys-viewer-vqtescpe</p></td>
		<td style="border-spacing:0px;vertical-align: Top;"><p style="font-weight: bold; margin-left: 0px; 
											 margin-right: 32px;">QuoteMaster 
		  / <span style="font-weight: normal;">Approval Wizard</span><br/>
		sys-viewer-vqte</p></td>
	</tr>
	<tr class="t2Row" style="">
		<td style="border-spacing:0px;vertical-align: Top;"><p class="MsoPlainText" style="font-size: 8pt; 
											 margin-left: 0px; margin-top: 3.0pt; 
											 margin-right: -82px;">createJCHBudget</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -82px;">Defaultexpirationdate</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -82px;">Nonotes</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -82px;">Sitenotesnoprompt</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -82px;">AutoUpdateWOTechStatus</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -82px;">AutoUpdateWOTechStatusIgnore</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -82px;">Allowclosedwo</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -82px;">RunWizardAfterSavingQuote</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -82px;">SetSourceWOStatusOnApproval</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -82px;">SetWOWRFromScope</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -82px;"><span style="font-size: 8pt;">NewWorkorderBlankOutTech</span></p>
		<p style="font-size: 8pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -82px;">ApprovalWizardRequiresFixedFeeBillingItem</p>
		<p class="MsoNormal" style="font-size: 8pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -82px;">ExportToPMWorkOrder   </p>
		<p class="MsoNormal" style="font-size: 8pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -82px;">Locationid</p>
		<p class="MsoNormal" style="font-size: 8pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -82px;">AutoUpdateWOTechStatusWhenPrinted </p>
		<p class="MsoNormal" style="font-size: 8pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -82px;">ApprovalWizardDefaultTechStatus  </p>
		<p style="font-size: 9pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -82px;"><span style="font-size: 8pt;">LogQMWizard</span>   </p>
		<p style="font-size: 9pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -82px;"> </p>
		<p style="font-size: 8pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -82px;">Any required or disabled field registry</p>
		<p style="font-size: 8pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -82px;">entries for the older Quote viewer must 
		 be</p>
		<p style="font-size: 8pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -82px;">reconfigured for the Quote Manager.</p></td>
		<td style="border-spacing:0px;vertical-align: Top;"><p style="mso-list: l0 level1 lfo1; 
											 font-size: 8pt; margin-left: 0px; 
											 margin-top: 3.0pt; margin-right: -53px;">ApplyTaxRulesOnFlatRateImport</p>
		<p style="font-size: 8pt; margin-left: 0px; margin-top: 3.0pt; 
			 margin-right: -53px;">Jobbillingitemstatusdefault</p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -53px;">Importprimaryvendor</p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -53px;">FlatRateLock</p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -53px;">IgnoreAcceptedValidation</p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -53px;"> </p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -53px;">Any required or disabled 
		 field</p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -53px;">registry entries 
		 for the older</p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -53px;"> Quote viewer 
		 must be</p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-left: 0px; 
			 margin-top: 3.0pt; margin-right: -53px;">reconfigured for 
		 the Quote Scope.</p></td>
		<td style="border-spacing:0px;vertical-align: Top;"><p class="MsoPlainText" style="font-size: 8pt; 
											 margin-top: 3.0pt; margin-left: 0px; 
											 margin-right: 32px;"><span style="font-size: 8pt;">createJCHBudget</span></p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">Defaultexpirationdate</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">Nonotes</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">Sitenotesnoprompt</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">AutoUpdateWOTechStatus</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">AutoUpdateWOTechStatusIgnore</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">Allowclosedwo</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">RunWizardAfterSavingQuote</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">SetSourceWOStatusOnApproval</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">SetWOWRFromScope</p>
		<p class="MsoPlainText" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;"><span style="font-size: 8pt;">NewWorkorderBlankOutTech</span></p>
		<p style="font-size: 8pt; margin-top: 3.0pt; margin-left: 0px; 
			 margin-right: 32px;">ApprovalWizardRequiresFixedFeeBillingItem</p>
		<p class="MsoNormal" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">ExportToPMWorkOrder   </p>
		<p class="MsoNormal" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">Locationid</p>
		<p class="MsoNormal" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">AutoUpdateWOTechStatusWhenPrinted </p>
		<p class="MsoNormal" style="font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">ApprovalWizardDefaultTechStatus 
		  </p>
		<p style="font-size: 9pt; margin-top: 3.0pt; margin-left: 0px; 
			 margin-right: 32px;"><span style="font-size: 8pt;">LogQMWizard</span>  </p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;"><span style="mso-list: l0 level1 lfo1; 
															 font-size: 8pt;">ApplyTaxRulesOnFlatRateImport</span></p>
		<p style="font-size: 8pt; margin-top: 3.0pt; margin-left: 0px; 
			 margin-right: 32px;">Jobbillingitemstatusdefault</p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">Importprimaryvendor</p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">FlatRateLock</p>
		<p style="mso-list: l0 level1 lfo1; font-size: 8pt; margin-top: 3.0pt; 
			 margin-left: 0px; margin-right: 32px;">IgnoreAcceptedValidation</p>
		<p style="font-size: 9pt; margin-left: 0px; margin-right: 32px;"><span style="font-weight: bold;">IMPORTANT:</span>  Retain all 
		  existing options in sys-viewer-vqte registry in case the 
		 older Quotemaster is used.</p></td>
	</tr>
</tbody></table>
<p style="text-indent: -.25in;"> </p>
<p style="font-weight: bold; margin-left: 0px;"><span style="font-weight: bold;">TIP: 
 Cloning Your Quote Entries</span></p>
<p style="margin-left: 0px;">The easiest way of transferring your existing 
 Quotemaster entries to the new viewers is to clone them. Note that the 
 existing registry sys-viewer-vqte should NOT be changed as it supports 
 the older Quotemaster viewer.</p>
<p style="font-size: 8pt; margin-left: 0px; margin-top: 3.5pt;">1. Access 
 the sys-viewer-vqte registry.</p>
<p style="font-size: 8pt; margin-left: 0px; margin-top: 3.5pt;">2. Change 
 the Id to sys-viewer-vqtemngr and tab out of the Id field.</p>
<p style="font-size: 8pt; margin-left: 0px; margin-top: 3.5pt;">3. Delete 
 or disable any lines not supported by Quote Manager; they will be ignored 
 by the system but may confuse users editing this registry in the future.</p>
<p style="font-size: 8pt; margin-left: 0px; margin-top: 3.5pt;">4. Reconfigure 
 any disabled or required fields entries.</p>
<p style="font-size: 8pt; margin-left: 0px; margin-top: 3.5pt;">5. Save 
 the new registry.</p>
<p style="margin-left: 0px; margin-top: 3.5pt;"><span style="font-size: 8pt;">6. 
 Repeat steps 1-5 for the Quote Scope registry (sys-viewer-vqtescpe).</span></p>
<h3 class="Support"><i style="font-style: normal;"><span>U</span>pgrading 
 from 8.0 or Earlier - A</i>utoemail Registry Change</h3>
<p style="margin-left: 8px; font-weight: normal; font-style: normal;"><i>If 
 registry entries with autoemail=true AND autosavewhenprinted=true are 
 enabled, the following line must be added in order for the auto-mail to 
 occur. Also see</i> <a href="#Registry_Entries_Recommended_as_Standard_by_Support:">Registries 
 Recommend as Standard</a>.</p>
<p style="margin-left: 8px; font-weight: normal; font-style: normal;"><span style="font-weight: bold;"><b>Setting Key:</b></span> autoemailwhenprinted<span style="font-weight: bold;">   <b>Setting Value:</b></span> 
 true</p>
<h5><span><i style="font-style: normal;">WO Tech Index</i></span></h5>
<p style="margin-left: 8px;"><i style="font-style: normal;">T</i>he WO 
 Tech Index allows multiple lines with the same date/different times per 
 tech. Older installations may include a manual index the previous restriction. 
 Delete this manual index to see the new behavior.</p>




<p class="Support" style="margin-left: 8px;"><span style="font-family: Arial, serif;">One 
 of the things that has to happen when customer is upgraded from version 
 7.1 or earlier to a current version is that the WebHelp table has to be 
 generated when a user logs on and the global option HelpFileType=WebHelp.  If 
 the user does not have sufficient database (not just SAMPro) privileges 
 the following error will appear</span> <span style="font-size: 10.0pt; 
												 font-family: Arial, serif;">‘Invalid 
 Object Name &#39;wbhlpmp&#39; – and the user will not be able to log into SAMPro.</span></p>
<p class="Support" style="margin-left: 8px;">When enabling web help for 
 the very first time, it must create the wbhlpmp (web help map) table. 
 <u>A user with appropriate database permission must be the one to perform 
 this.</u><br/>
In our recent problem, all of DB&#39;s support attempts at this were performed 
 from their SAMPRO-SERVER server which used a login which does not have 
 sufficient permissions to <u>create</u> database tables (can only read/write 
 to the database). To correct the issue, it was necessary to login to SAMPro 
 as a sysadmin to their database; the system was able to create the new 
 table and load the help map without trouble.</p>




<p> </p>

</body></html>