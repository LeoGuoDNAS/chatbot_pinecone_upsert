<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = ".";
    gCommonRootRelPath = ".";
    gTopicId = "1";
  
//]]></script>

  <script type="text/javascript" src="./template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="./template/scripts/common.min.js"></script>
  <script type="text/javascript" src="./template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="./template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="./whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="./template/styles/topic.min.css"/>
  <link rel="stylesheet" type="text/css" href="./template/single_page/topicheader.css"/>
  <meta name="topic-status" content="Draft"/>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="generator" content="Adobe RoboHelp 2020"/>
<title>APT Payment Processing Overview</title>
<link rel="StyleSheet" href="assets/css/sampro.css" type="text/css"/>
<meta name="rh-index-keywords" content="APT,Accelerated Payment Technology,Payment Processor,Credit Card Processing,OpenEdge,XCharge"/></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="APT Payment Processing Overview">
        <span>APT Payment Processing Overview</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



<h1>OpenEdge Payment Processing Overview</h1>
<h2>Introduction</h2>
<p>SAMPro&#39;s integration with OpenEdge (previously known as Accelerated Payment Technologies - APT) provides for a secure portal to open from SAMPro for submitting credit card transactions for authorization and settlement with no need for a physical credit card terminal. TechAnywhere already provides this functionality via credit card swipe.</p>
<p><span id="BugEvents4">Instead of swiping a credit card, SAMPro users can now click a button to automatically launch their default internet browser pointing to OpenEdge&#39;s</span> XWeb Hosted Payment Form portal.  This portal may be used to capture and save an Alias to be used later by SAMPro for recurring PM Billing (via the Payment Alias button in the Client Site or Master Contract record) or to record a single payment (with the Process Payment button in the AR Cash Receipts and Work Order COD tab).  </p>
<p>The customer&#39;s credit card information will be stored securely by APT. For recurring payments for PM&#39;s, a Payment Alias will be recorded in SAMPro in the Client Site and/or Master.   </p>
<h2>Set Up</h2>
<p><span>1. To enable this functionality in SAMPro, you must first set up a MOTO account with OpenEdge.</span></p>
<p><span>2.  SamproSecureCommunication.war must be installed in Glassfish to enable this functionality. If your firm does not already have a Glassfish server installed (for DBAnalytics or TechAnywhere) contact your support representative to set this up.</span></p>

<p><span>3.</span><span id="BugEvents41"> I</span>t is recommended that you create a new Payment Type record with the Id set to OpenEdge and the GL Bank Account set to the appropriate bank or sweep account for OpenEdge Payments. This will be used for recurring payment processing for preventative maintenance.</p>
<p><span>4. Complete the required registry entries: <a href="Registry_Payment_Processor_APT_Accelerated_Payment_Technology.htm">Registry Payment Processor</a>   .</span></p>
<p><span>5. We recommend testing this functionality with a company credit card before using for customer.</span></p>
<h2><span>Usage:</span></h2>
<h3><span>Recurring Payments: Client Site / Master Contract Records</span></h3>
<p>An Alias to be used for recurring PM Billing may be set in the Client Site (also provides the default for Master Contract billings) or on the Master Contract Site tab (click the Magnify button to access the Payment Alias button). Note that if an Alias is set in the Client Site record, it will provide a default for Master Contact entries for that Site.</p>
<p>This Alias will be used when PM Invoices are generated to automatically bill the customer&#39;s credit card. The system will post successfully paid billings to the Sales Journal as paid and generate the appropriate AR Cash Receipts Journal Entry.</p>
<p><img src="assets/images/PaymentAlias.bmp" alt="" style="border: none;" border="0"/></p>
<p>1.Verify that the customer has their credit card ready, and then click this button to enter the customer&#39;s credit card information.</p>
<p>2. SAM Pro will display a message reminding you that you will only have 60 seconds to enter the information.  When you are sure the information is available, click Yes to continue. Click Yes and the portal will open.</p>
<p>3. Enter the customer&#39;s credit card number (without spaces or dashes) and expiration date and click Submit.</p>
<p>4. If the card is approved, the web portal will display &quot;Alias Success: Created&quot; in red. If it is not approved, check the number and expiration date and try submitting it again.</p>
<p>5. When the card is approved, the system will write the Alias back to the Payment Alias field, and complete the CC Masked Account and Expiration Date fields for future reference.</p>
<p style="margin-left: 48px;">Timing Out: If the Alias is not generated within 60 seconds, it will not be written back to SAMPro, even if a success is noted in the web portal.  If this occurs, repeat the Alias process.</p>
<p style="margin-left: 8px;">6. Save the record to retain the Alias .</p>
<p style="font-weight: bold;">Payment Alias:<br/>
<span id="BugEvents1131" style="font-weight: normal;">This field is completed by the system when a Payment Alias is successfully generated by OpenEdge via the Payment Alias button. The Payment Alias may be cleared by manually by blanking the field. This would be done if the client changed their mind and did not wish to have their recurring PM&#39;s paid via credit card. Validation also the user from manually changing this field to a non-blank value; this field may only be set via the Payment Alias button.</span></p>
<p><span style="font-weight: bold;">CC Masked Account (last four digits of the credit card)<br/>
CC Expiration Date</span><br/>
This display fields are completed when an Alias is successfully generated by <span id="BugEvents11311">OpenEdge</span>.</p>
<h2>Process Payments - AR Cash Receipts Journal</h2>
<p>If you have established an account with <span id="BugEvents11312">OpenEdge</span>, you may now process a credit card payment in the AR Cash Receipts Journal.</p>
<p>1. If you use a different sweep account for <span id="BugEvents11313">OpenEdge</span> payments, change the Bank Account on the GL tab.</p>
<p>2. On the Main tab, select Invoice or Invoices that the customer wishes to pay for.</p>
<p>3. Enter the Discount (if any) and Total Receipt; this is the amount that will be processed on the credit card.</p>
<p><img src="assets/images/Process Payment.bmp" alt="" style="border: none;" border="0"/></p>
<p>4. Verify that the customer has their credit card ready, and then click the Process Payment button.</p>
<p>5. SAM Pro will display a message reminding you that you will only have 60 seconds to enter the information; click Yes to continue.  Another message inform you that the journal entry will be added before Payment Processing; click Yes again.  </p>
<p>6. When the x-web portal opens, enter the customer&#39;s credit card number (without spaces or dashes) and expiration date and click Submit.</p>
<p>7. If the card is approved, the web portal will display &quot;Approval&quot; in red. If it is not approved, check the number and expiration date and try submitting it again.</p>
<p>8. When the payment is approved, the system will write the Approval Code back to the Check Number field. Payment Alias field, and complete the CC Masked Account field for future reference.</p>
<p style="margin-left: 48px;">Timing Out: If the Alias is not generated within 60 seconds, it will not be written back to SAMPro, even if a success is noted in the web portal.  If this occurs, repeat the Alias process.</p>
<p style="margin-left: 8px;">9. When preparing to enter the next Cash Receipt, remember to set the GL Bank Account to the appropriate value.</p>
<h2>Work Order COD/Payment Processing</h2>
<p>If you have established an account with <span id="BugEvents11314">OpenEdge</span>, you may process a credit card payment from the Work Order&#39;s COD child tab for service work orders (note: this tab may be related as Payments in your system).</p>
<p>1. If this is a taxable Job, use the Compute Sales Tax button to compute the Sales Tax.</p>
<p>2. Click the Magnify on the COD / Payments child tab.</p>
<p>3. Enter the Payment Type of <span id="BugEvents11315">OpenEdge (or APT for early adopters of this function)</span>, and set the Amount to the total amount to be processed on the credit card, including Sales Tax if applicable.</p>
<p><img src="assets/images/Process Payment.bmp" alt="" style="border: none;" border="0"/></p>
<p>4. Verify that the customer has their credit card ready, and then click the Process Payment button.</p>
<p>5. SAM Pro will display a message reminding you that you will only have 60 seconds to enter the information; click Yes to continue.  Another message inform you that the journal entry will be added before Payment Processing; click Yes again.  </p>
<p>6. When the x-web portal opens, enter the customer&#39;s credit card number (without spaces or dashes) and expiration date and click Submit.</p>
<p>7. If the card is approved, the web portal will display &quot;Approval&quot; in red. If it is not approved, check the number and expiration date and try submitting it again.</p>
<p>8. When the payment is approved, the system will write the Approval Code back to the Reference field, and complete the CC Masked Account and Expiration fields for future reference. </p>
<p style="margin-left: 48px;">Timing Out: If the Payment is not generated within 60 seconds, it will not be written back to SAMPro, even if a success is noted in the web portal.  If this occurs, repeat the process.</p>

</body></html>