<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = ".";
    gCommonRootRelPath = ".";
    gTopicId = "2.18.11.0_2";
  
//]]></script>

  <script type="text/javascript" src="./template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="./template/scripts/common.min.js"></script>
  <script type="text/javascript" src="./template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="./template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="./whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="./template/styles/topic.min.css"/>
  <link rel="stylesheet" type="text/css" href="./template/single_page/topicheader.css"/>
  <meta name="topic-status" content="Draft"/>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="topic-status" content="Sent for Review"/>
<meta name="generator" content="Adobe RoboHelp 2020"/>
<title>Registry Payment Processor OpenEdge</title>
<link rel="StyleSheet" href="assets/css/sampro.css" type="text/css"/>
<meta name="rh-index-keywords" content="APT,Accelerated Payment Technology,Payment Processor,MOTO,OpenEdge,XCharge,alias (credit card processing),Global Payments"/></head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Registry Payment Processor OpenEdge">
        <span>Registry Payment Processor OpenEdge</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <a href="#" onclick="rh._.goToFullLayout()">Click here to see this page in full context</a>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



<h1>Registry Payment Processor OpenEdge / Global Payments</h1>
<h2>Purpose:</h2>
<p>This registry is required to support the interface between SAMPro and 
 OpenEdge / Global Payments Credit Card processing. Currently, 
 the <a href="#Version_9.0__and_Version_9.1.611.053_and_Earlier:">Open 
 Edge X-Web</a> or the 
 new <a href="#DBXChange_Payfields_Portal_in_SAMPro_9.1.611.054e_and_Above">Payfields 
 portal on DBXChange</a> 
 may be used. </p>
<h2>Related Registry:</h2>
<p>See Registry to <a href="Registry_Create_PM_Billing_Work_Order_Invoice.htm#Disable_Automatic_Use_of_Payment_Alias_in_Create_PM_Billings">Disable 
 Automatic Use of Alias in Create PM Billings by AR Terms Code</a>.</p>
<h2><span style="mso-fareast-font-family: &#39;Times New Roman&#39;;"><a id="Version_9.0__and_Version_9.1.611.053_and_Earlier:"></a></span> 
 Version 9.0 and Version 9.1 X-Web (older implementation)</h2>
<p>This registry entry is required to implement SAMPro&#39;s integration with 
 OpenEdge&#39;s secure portal which may be accessed from SAMPro for submitting 
 credit card transactions.</p>
<p style="margin-left: 48px;"><span style="font-weight: bold;">Note:</span> 
 OpenEdge / Global Payments was previously known as APT.</p>
<p><span id="BugEvents4">1. To enable this functionality in SAMPro, you 
 must first set up a MOTO account with OpenEdge.</span></p>
<p><span>2.  SamproSecureCommunication.war must be installed in Glassfish 
 to enable this functionality. If your firm does not already have a Glassfish 
 server installed (for DBAnalytics or TechAnywhere) contact your support 
 representative to set this up.</span></p>

<p><span>3. I</span>t is recommended that you create a new Payment Type 
 record with the Id set to OpenEdge and the GL Bank Account set to the 
 appropriate bank or sweep account for OpenEdge Payments. This will be 
 used for recurring payment processing.</p>
<p><span>4. Complete the registry entries listed below.</span></p>
<p><span>5. We recommend testing this functionality with a company credit 
 card before using for customers.</span></p>
<h3>Important Fields:</h3>
<p><span>S</span>ee the Standard Registry section in <a href="Registry_Viewer.htm">Registry 
 Viewer</a> for additional Registry Id formats to allow entries for specific 
 Users, Branches, Security, or User Groups to override the main entry.</p>
<p><span style="font-weight: bold;">Registry Id:</span> sys-payment-processor</p>
<p><span style="font-weight: bold;">Registry Name:</span> OpenEdge Payment 
 Processor</p>
<h5>Enable Intercompany support for Create 
 PM Billings with Open Edge Processing</h5>
<p>This release supports Company-specific 
 functionality for Open Edge processing. A new  Interco v.cus file 
 must be installed (which includes the Company Id on Start Create PM Billing) 
 and Company-specific registry settings must be created. If all Companies 
 will be using the same settings only the base registry (see above) is 
 needed. </p>
<p>These Company-specific registries are 
 identified by a special suffix on the Registry Id to define that the Company 
 Id is being referenced.  The general form of the suffix is: 
 </p>
<p><span style="font-weight: bold;">Id:</span> sys-payment-processor-company:<span style="font-style: italic;">CompanyId</span>  </p>
<p style="margin-left: 48px;">For example, 
 the Open Edge payment processor registry for Company 01 is:  sys-payment-processor-company:01</p>
<p style="margin-left: 48px;">To set up 
 for Company-Specific processing, the Company-specific registries could 
 contain either</p>
<p style="margin-left: 48px;">All required 
 options for sys-payment-processor</p>
<p style="margin-left: 48px;">Or</p>
<p style="margin-left: 48px;">Only the 
 options that distinguish the companies, with the remaining settings in 
 the basic directories (sys-payment-processor).  </p>
<h5>Required Options for Older X-Web Portal</h5>
<p><span style="font-weight: bold;">Setting Key:</span> merchantId   <span style="font-weight: bold;">Setting Value:</span> <span style="font-style: italic;">IdProvidedByOpenEdge</span></p>
<p>This is the Merchant Id given to your firm once it has been enrolled 
 in the system.<br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> XWebId   <span style="font-weight: bold;">Setting Value:</span> <span style="font-style: italic;">IdProvidedByOpenEdge</span></p>
<p>This is the X-Web Id given to your firm once it has been enrolled in 
 the system.</p>
<p> </p>
<p><span style="font-weight: bold;">Setting Key:</span> AuthKey   <span style="font-weight: bold;">Setting Value:</span> <span style="font-style: italic;">KeyProvidedByOpenEdge</span></p>
<p><span style="font-style: italic;">S</span>upplied by OpenEdge during 
 the merchant enrollment process.<br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> terminalID   <span style="font-weight: bold;">Setting Value:</span> <span style="font-style: italic;">IdProvidedByOpenEdge</span></p>
<p>This is the ID given to the terminal by OpenEdge.<br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> SpecVersion   <span style="font-weight: bold;">Setting Value:</span> XWeb3.5 or as specified 
 by OpenEdge<br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> SpecVersionAliasPayment 
  <span style="font-weight: bold;">Setting Value:</span>  XWebSecure3.5 
 or as specified by OpenEdge<br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> URL    <span style="font-weight: bold;">Setting Value:  </span>https://gw.t3secure.net/x-chargeweb.dll</p>
<p>The Gateway URL for MOTO processing in production.<br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> WebSiteName   <span style="font-weight: bold;">Setting Value:</span> https://online.t3secure.net/hpf/hpf.aspx 
  (or as specified by Open Edge)</p>
<p>The Form URL for production systems.  <br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> Industry   <span style="font-weight: bold;">Setting Value:</span> MOTO  <br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> directory   <span style="font-weight: bold;">Setting Value:</span> <span style="font-style: italic;">paymentProcessing</span></p>
<p><span style="font-style: italic; font-weight: bold;">Note that this 
 subdirectory MUST EXIST on the main SAMPro directory containing the SAMPro 
 executable.</span><span style="font-style: italic;"> </span>A list of 
 payment results will be written to this directory.<span style="font-style: italic;"> 
 </span><br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> paymentProcessor 
   <span style="font-weight: bold;">Setting Value:</span> SamproSecureCommunication/SSL<br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> server   <span style="font-weight: bold;">Setting Value:</span> <span style="font-style: italic;">yourglassfishproxyserver</span></p>
<p>The IP address or name of the Glassfish server running your SAMPro Secure 
 Communications.<br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> port   <span style="font-weight: bold;">Setting Value:</span> 8080<br/>
</p>
<p><span style="font-weight: bold;">Setting Key:</span> PMBillingPaymentCode 
  <span style="font-weight: bold;">Setting Value:</span> PaymentTypeId</p>
<p><span id="BugEvents41">I</span>t is recommended that you create a new 
 Payment Type record with the Id set to OpenEdge (or APT for early adopters 
 of this technology) and the GL Bank Account set to the appropriate bank 
 or sweep account for OpenEdge Payments. This will be used for recurring 
 payment processing for preventative maintenance.</p>
<p> </p>





<h3 style="mso-fareast-font-family: &#39;Times New Roman&#39;;"><a id="DBXChange_Payfields_Portal_in_SAMPro_9.1.611.054e_and_Above"></a> 
 DBXChange Payfields Portal in SAMPro 9.1.611.054e and Above</h3>
<p>By default, SAMPro&#39;s interface with 
 OpenEdge continues to be managed by OpenEdge&#39;s X-Web portal. However, 
  this functionality will ultimately be sun-setted. The following 
 registries are required to use DBXchange instead to PayFields portal for 
 OpenEdge transactions (TechAnywhere already uses this functionality). 
 </p>
<p>The following registry entries are 
 required to run OpenEdge with the new Payfields portal; we recommend running 
 this in your test system first. Note that company-specific registries 
 may be made if needed. Data-Basics&#39; DBXchange will be used in conjunction 
 with an updated version of SAMPro Secure Communication. Please contact 
 Data-Basics Support for assistance with the installation. Note that company-specific 
 registries may be made if needed.  </p>
<p>The registry to control whether the 
 old vs new portal is used is the sys-ffv-global-setting&#39;s defaultpaymentprocessor. 
 To use the new Open Edge portal it must be OEDBX. To use the old portal 
 they should either leave it blank or use OE (as it has always been in 
 the past).</p>
<p><span style="font-weight: bold;">Registry 
 Id:</span> sys-ffv-global-settings</p>
<p><span style="font-weight: bold;">Setting 
 Key:</span> defaultpaymentprocessor  <span style="font-weight: bold;">Setting 
 Value:</span> OEDBX  (OE or blank uses the old portal)</p>
<p>If the value is blank or OE the old 
 X-Web portal will be used.  If the new Payfields portal (hosted on 
 DBXChange) the Setting Value should be OEDBX. </p>
<p>The following registry entries are 
 required to run OpenEdge with the new Payfields portal (hosted on DBXChange). 
 Note that company-specific registries may be made if needed. They should 
 be used if the global settings registry defaultpaymentprocessor is set 
 to OEDBX. Note that company-specific 
 registries may be made if needed.  </p>
<p><span style="font-weight: bold;">Id:</span> 
 sys-payment-processor </p>
<p><span style="font-weight: bold;">Id:</span> 
 sys-payment-processor-company:CompanyId   </p>
<p>For example, the OpenEdge payment processor 
 registry for Company 01 is:  sys-payment-processor-company:01 </p>
<p>To set up for Company-Specific processing, 
 the Company-specific registries could contain either  </p>
<p style="margin-left: 48px;">All required 
 options for sys-payment-processor  </p>
<p style="margin-left: 48px;">Or only 
 the options that distinguish the companies, with the remaining settings 
 in the basic directories (sys-payment-processor</p>
<h5>New Settings: </h5>
<p style="margin-left: 8px;"><span style="font-weight: bold;">Setting 
 Key:</span> Auth   <span style="font-weight: bold;">Setting Value:</span> 
 <span style="font-style: italic;">EncryptedValue From DBXchange Inspector</span> 
 </p>
<p style="margin-left: 8px;">OpenEdge 
 will supply an Auth Key, Terminal ID, and Merchant ID. These values must 
 be entered in the DBXchange Inspector application for encrypting into 
 1 value for Auth. There is also a Live or Test option to select to decide 
 which OpenEdge environment to point to. </p>
<p style="margin-left: 8px;"><span style="font-weight: bold;">Setting 
 Key:</span> content-type  <span style="font-weight: bold;">Setting Value:</span> 
 application/json </p>
<h5>Existing Settings  which may need 
 to be changed: </h5>
<p style="margin-left: 8px;"><span style="font-weight: bold;">Setting 
 Key:</span> directory   <span style="font-weight: bold;">Setting Value:</span> 
 paymentProcessing </p>
<p style="margin-left: 8px;">Note that 
 this subdirectory MUST EXIST on the main SAMPro directory containing the 
 SAMPro executable. A list of payment results will be written to this directory. 
  </p>
<p style="margin-left: 8px;"><span style="font-weight: bold;">Setting 
 Key:</span> paymentProcessor   <span style="font-weight: bold;">Setting 
 Value:</span> SamproSecureCommunication/SSL </p>
<p style="margin-left: 8px;">Value is 
 defaulted to SamproSecureCommunication/SSL if not set </p>
<p style="margin-left: 8px;"><span style="font-weight: bold;">Setting 
 Key:</span> server   <span style="font-weight: bold;">Setting Value:</span> 
 <span style="font-style: italic;">Server Hosting SamproSecureCommunication</span> 
 </p>
<p style="margin-left: 8px;">The internal 
 IP address or name of the web server hosting your SAMPro Secure Communication. 
 </p>
<p style="margin-left: 8px;"><span style="font-weight: bold;">Setting 
 Key:</span> port   <span style="font-weight: bold;">Setting Value:</span> 
 <span style="font-style: italic;">Server Port Hosting SamproSecureCommunication</span> 
 </p>
<p style="margin-left: 8px;">The TCP/IP 
 port of the web server hosting your SAMPro Secure Communication. </p>
<p style="margin-left: 8px;"><span style="font-weight: bold;">Setting 
 Key:</span> WebSiteName   <span style="font-weight: bold;">Setting Value:</span> 
 <span style="font-style: italic;">Full URL to your web hosted DBXchange</span> 
 </p>
<p style="margin-left: 48px;">Ex. http://SERVER:8080/dbxchange 
 </p>
<p style="margin-left: 48px;">Ex. https://192.168.1.100:8181/dbxchange 
 </p>
<p style="margin-left: 8px;"><span style="font-weight: bold;">Setting 
 Key:</span> PMBillingPaymentCode  <span style="font-weight: bold;">Setting 
 Value:</span> <span style="font-style: italic;">PaymentTypeId</span> </p>
<p style="margin-left: 8px;">It is recommended 
 that you create a new Payment Type record with the Id set to OpenEdge 
 or CRDCRD and the GL Bank Account set to the appropriate bank or sweep 
 account for OpenEdge Payments. This will be used for recurring payment 
 processing for preventative maintenance. </p>
<h5>Obsolete Settings: these registries 
 should be disabled or deleted for SAMPro Version 9.1.611.054 and above:</h5>
<p style="margin-left: 48px;">Setting 
 Key: merchantId   Setting Value: IdProvidedByOpenEdge <br/>
 Setting Key: XWebId   Setting Value: IdProvidedByOpenEdge <br/>
 Setting Key: AuthKey   Setting Value: KeyProvidedByOpenEdge <br/>
 Setting Key: terminalID   Setting Value: IdProvidedByOpenEdge <br/>
 Setting Key: SpecVersion   Setting Value: XWeb3.5 or as specified by OpenEdge 
 <br/>
 Setting Key: SpecVersionAliasPayment  Setting Value:  XWebSecure3.5 or 
 as specified by OpenEdge <br/>
 Setting Key: URL    Setting Value:  https://gw.t3secure.net/x-chargeweb.dll 
 <br/>
 Setting Key: Industry   Setting Value: MOTO   </p>
<h5>User Interface Changes for SAMPro 
 Version 9.1.611.054 When the New Portal is Enabled</h5>
<p style="margin-left: 8px;">End users 
 will notice a different user interface when specifying and alias or processing 
 a payment.  Instead of the Open Edge portal appearing, the Payfields portal 
 hosted by Data-Basics will appear, as shown below. The user will simply 
 enter the credit card number, expiration date, CVV code and then click 
 the Submit button.  Note that the Country field (defaulted from the 
 ZIP or Postal Code) is required for a successful submission.</p>
<p><img src="assets/images/OENewPortal.png" alt="" style="border: none;" border="0"/></p>


</body></html>